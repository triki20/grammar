<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> 驻注 专</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }
        .button {
            background-color: #4a90e2;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            margin: 10px;
            font-size: 18px;
            cursor: pointer;
            width: 100%;
            transition: background-color 0.3s;
        }
        .button:hover {
            background-color: #357abd;
        }
        .verb-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        .verb-display {
            font-size: 32px;
            margin: 20px 0;
            color: #2c3e50;
        }
        .verb-forms {
            display: flex;
            justify-content: space-around;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        .verb-form {
            margin: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .translation {
            font-size: 24px;
            color: #666;
            margin: 10px 0;
        }
        .example {
            font-style: italic;
            color: #666;
            margin: 10px 0;
            font-size: 16px;
        }
        .score {
            font-size: 18px;
            color: #2c3e50;
            margin: 10px 0;
        }
        .feedback {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        .feedback.success {
            background-color: #d4edda;
            color: #155724;
            display: block;
        }
        .feedback.error {
            background-color: #f8d7da;
            color: #721c24;
            display: block;
        }
        .verb-input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-top: 5px;
            font-size: 16px;
            width: 150px;
            text-align: center;
        }
        .verb-input.correct {
            border-color: #28a745;
            background-color: #d4edda;
        }
        .verb-input.incorrect {
            border-color: #dc3545;
            background-color: #f8d7da;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>English Irregular Verbs Practice</h1>
        <div class="score">Score: <span id="scoreDisplay">0</span></div>
        
        <div class="verb-card">
            <div id="verbDisplay" class="verb-display"></div>
            <div class="verb-forms">
                <div class="verb-form">
                    <div>Past Simple</div>
                    <input type="text" id="pastSimpleInput" class="verb-input" placeholder="Type past simple...">
                </div>
                <div class="verb-form">
                    <div>Past Participle</div>
                    <input type="text" id="pastParticipleInput" class="verb-input" placeholder="Type past participle...">
                </div>
            </div>
            <div id="translation" class="translation"></div>
            <div id="example" class="example"></div>
        </div>

        <div id="feedback" class="feedback"></div>
        
        <button class="button" onclick="playAudio()">Play Pronunciation</button>
        <button class="button" onclick="startListening()">Record Pronunciation</button>
        <button class="button" onclick="checkAnswers()">Check Answers</button>
        <button class="button" onclick="showAnswer()">Show Answer</button>
        <button class="button" onclick="nextVerb()">Next Verb</button>
    </div>

    <script>
        const irregularVerbs = [
            {
                base: 'be',
                pastSimple: 'was/were',
                pastParticiple: 'been',
                translation: '转',
                example: 'I am happy today, I was sad yesterday, I have been here before'
            },
            {
                base: 'begin',
                pastSimple: 'began',
                pastParticiple: 'begun',
                translation: '转',
                example: 'I begin work at 9, I began yesterday, I have begun the project'
            },
            {
                base: 'break',
                pastSimple: 'broke',
                pastParticiple: 'broken',
                translation: '砖专',
                example: 'I break things, I broke the glass, I have broken my phone'
            },
            {
                base: 'bring',
                pastSimple: 'brought',
                pastParticiple: 'brought',
                translation: '',
                example: 'I bring food, I brought lunch, I have brought my laptop'
            },
            // 驻砖专 住祝 注 驻注 
        ];

        let currentVerbIndex = 0;
        let score = 0;
        let isAnswerVisible = false;

        function displayVerb() {
            const verb = irregularVerbs[currentVerbIndex];
            document.getElementById('verbDisplay').textContent = verb.base;
            document.getElementById('translation').textContent = verb.translation;
            document.getElementById('example').textContent = verb.example;
            
            if (isAnswerVisible) {
                document.getElementById('pastSimpleInput').value = verb.pastSimple;
                document.getElementById('pastParticipleInput').value = verb.pastParticiple;
            } else {
                document.getElementById('pastSimpleInput').value = '';
                document.getElementById('pastParticipleInput').value = '';
            }
            
            document.getElementById('pastSimpleInput').className = 'verb-input';
            document.getElementById('pastParticipleInput').className = 'verb-input';
        }

        function showAnswer() {
            isAnswerVisible = true;
            displayVerb();
        }

        function nextVerb() {
            isAnswerVisible = false;
            currentVerbIndex = (currentVerbIndex + 1) % irregularVerbs.length;
            displayVerb();
            document.getElementById('feedback').style.display = 'none';
            speechSynthesis.cancel();
        }

        function playAudio() {
            speechSynthesis.cancel();
            
            const verb = irregularVerbs[currentVerbIndex];
            const texts = [verb.base, verb.pastSimple, verb.pastParticiple];
            
            texts.forEach((text, index) => {
                setTimeout(() => {
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = 'en-US';
                    utterance.rate = 0.8;
                    speechSynthesis.speak(utterance);
                }, index * 1500);
            });
        }

        function showFeedback(isSuccess, message) {
            const feedback = document.getElementById('feedback');
            feedback.textContent = message;
            feedback.className = `feedback ${isSuccess ? 'success' : 'error'}`;
        }

        function startListening() {
            if ('webkitSpeechRecognition' in window) {
                const recognition = new webkitSpeechRecognition();
                recognition.lang = 'en-US';
                recognition.onresult = function(event) {
                    const result = event.results[0][0].transcript.toLowerCase();
                    const currentVerb = irregularVerbs[currentVerbIndex].base.toLowerCase();
                    
                    if (result === currentVerb) {
                        score += 10;
                        document.getElementById('scoreDisplay').textContent = score;
                        showFeedback(true, ' ! ');
                    } else {
                        showFeedback(false, ` 拽. 住转: "${result}",  : "${currentVerb}"`);
                    }
                };
                recognition.start();
            } else {
                alert('驻驻 砖  转  拽');
            }
        }

        function checkAnswers() {
            const verb = irregularVerbs[currentVerbIndex];
            const pastSimpleInput = document.getElementById('pastSimpleInput').value.toLowerCase();
            const pastParticipleInput = document.getElementById('pastParticipleInput').value.toLowerCase();
            
            const isPastSimpleCorrect = verb.pastSimple.toLowerCase().split('/').includes(pastSimpleInput);
            const isPastParticipleCorrect = verb.pastParticiple.toLowerCase().split('/').includes(pastParticipleInput);
            
            document.getElementById('pastSimpleInput').className = 
                `verb-input ${isPastSimpleCorrect ? 'correct' : 'incorrect'}`;
            document.getElementById('pastParticipleInput').className = 
                `verb-input ${isPastParticipleCorrect ? 'correct' : 'incorrect'}`;
            
            if (isPastSimpleCorrect && isPastParticipleCorrect) {
                score += 20;
                document.getElementById('scoreDisplay').textContent = score;
                showFeedback(true, 'Excellent! Both answers are correct! ');
            } else {
                showFeedback(false, 'Some answers are incorrect. Try again or click "Show Answer" to see the correct forms.');
            }
        }

        // 爪 驻注 专砖 注
        displayVerb();
    </script>
</body>
</html> 